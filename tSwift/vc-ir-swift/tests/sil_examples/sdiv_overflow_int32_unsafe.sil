// SIL test file: Int32 signed division overflow detection
// Tests INT_MIN / -1 overflow: -2147483648 / -1 = 2147483648, which overflows Int32

sil_stage canonical

import Builtin
import Swift

// Int32 signed division - may overflow on INT_MIN / -1
sil hidden @sdiv_int32 : $@convention(thin) (Int32, Int32) -> Int32 {
bb0(%0 : $Int32, %1 : $Int32):
  debug_value %0, let, name "a", argno 1
  debug_value %1, let, name "b", argno 2
  %4 = struct_extract %0, #Int32._value
  %5 = struct_extract %1, #Int32._value
  %6 = builtin "sdiv_Int32"(%4, %5) : $Builtin.Int32
  %7 = struct $Int32 (%6)
  return %7
}
